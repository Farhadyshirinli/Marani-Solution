@model IEnumerable<Basket>
@{
    ViewData["Title"] = "Basket";
}


<partial name="_MainMenu" />
<!-- Page Add Section Begin -->
<section class="page-add cart-page-add">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="page-breadcrumb">
                    <h2>Basket</h2>
                    <a asp-controller="home" asp-action="index">Home</a>
                    <a asp-controller="Shop" asp-action="Wishlist">Wishlist</a>
                </div>
            </div>
            <div class="col-lg-8">
                <img src="img/add.jpg" alt="">
            </div>
        </div>
    </div>
</section>
<!-- Page Add Section End -->
<!-- Cart Page Section Begin -->
<div class="cart-page">
    <div class="container">
        <div class="cart-table">
            <table>
                <thead>
                    <tr>
                        <th class="product-h">Product</th>
                        <th>Price</th>
                        <th class="quan">Quantity</th>
                        <th>Total</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        @*string imagePath = item.ProductImages.FirstOrDefault(i => i.IsMain == true)?.Name;*@
                        <tr class="basket-item-@item.ProductId">
                            <td class="product-col">
                                <a target="_blank" asp-action="details" asp-route-id="item.ProductId">
                                    <img src="~/uploads/images/@item.Product.ProductImages.FirstOrDefault()?.Name">

                                </a>
                                <div class="p-title">
                                    <a target="_blank"
                                   asp-action="details"
                                   asp-route-id="@item.ProductId">
                                        @item.Product.Name
                                    </a>
                                </div>
                            </td>
                            <td class="price-col">@item.Product.Price</td>
                            <td class="quantity-col">
                                <div class="pro-qty">
                                    <input type="number" name="[0].Quantity" value="@item.Quantity">
                                </div>
                            </td>
                            <td class="total">@(@item.Product.Price*item.Quantity)</td>
                            <td class="product-close">
                                <a onclick="removeFromBasket(this,'@item.Product.Name');return;" 
                               data-product-id="@item.ProductId"
                               area-remove-target=".basket-item-@item.ProductId">
                                    <img style="height:30px; cursor:pointer;" src="~/assets/img/icons/delete-button-black.png" alt="">

                                </a>

                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- Cart Page Section End -->
<!-- Footer Section Begin -->
<partial name="_FooterWidget" />
<!-- Footer Section End -->
@section addcss{
    <style>
        .card-body {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

            .card-body .basket-btn {
                width: 300px;
            }
    </style>
}


    @section addjs{
    <script>

    </script>
}

